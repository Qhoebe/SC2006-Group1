{"ast":null,"code":"var _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport { forwardRef, useContext, useEffect, useImperativeHandle, useRef } from 'react';\nimport { GoogleMapsContext, latLngEquals } from '@vis.gl/react-google-maps';\nfunction useCircle(props) {\n  _s();\n  var _useContext;\n  const {\n    onClick,\n    onDrag,\n    onDragStart,\n    onDragEnd,\n    onMouseOver,\n    onMouseOut,\n    onRadiusChanged,\n    onCenterChanged,\n    radius,\n    center,\n    ...circleOptions\n  } = props;\n  const callbacks = useRef({});\n  Object.assign(callbacks.current, {\n    onClick,\n    onDrag,\n    onDragStart,\n    onDragEnd,\n    onMouseOver,\n    onMouseOut,\n    onRadiusChanged,\n    onCenterChanged\n  });\n  const circle = useRef(new window.google.maps.Circle()).current;\n  circle.setOptions(circleOptions);\n  useEffect(() => {\n    if (!center) return;\n    if (!latLngEquals(center, circle.getCenter())) circle.setCenter(center);\n  }, [center]);\n  useEffect(() => {\n    if (radius === undefined || radius === null) return;\n    if (radius !== circle.getRadius()) circle.setRadius(radius);\n  }, [radius]);\n  const map = (_useContext = useContext(GoogleMapsContext)) === null || _useContext === void 0 ? void 0 : _useContext.map;\n  useEffect(() => {\n    if (!map) {\n      if (map === undefined) console.error('<Circle> has to be inside a Map component.');\n      return;\n    }\n    circle.setMap(map);\n    return () => {\n      circle.setMap(null);\n    };\n  }, [map]);\n  useEffect(() => {\n    if (!circle) return;\n    const gme = window.google.maps.event;\n    [['click', 'onClick'], ['drag', 'onDrag'], ['dragstart', 'onDragStart'], ['dragend', 'onDragEnd'], ['mouseover', 'onMouseOver'], ['mouseout', 'onMouseOut']].forEach(([eventName, eventCallback]) => {\n      gme.addListener(circle, eventName, e => {\n        const callback = callbacks.current[eventCallback];\n        if (callback) callback(e);\n      });\n    });\n    gme.addListener(circle, 'radius_changed', () => {\n      var _callbacks$current$on, _callbacks$current;\n      const newRadius = circle.getRadius();\n      (_callbacks$current$on = (_callbacks$current = callbacks.current).onRadiusChanged) === null || _callbacks$current$on === void 0 ? void 0 : _callbacks$current$on.call(_callbacks$current, newRadius);\n    });\n    gme.addListener(circle, 'center_changed', () => {\n      var _callbacks$current$on2, _callbacks$current2;\n      const newCenter = circle.getCenter();\n      (_callbacks$current$on2 = (_callbacks$current2 = callbacks.current).onCenterChanged) === null || _callbacks$current$on2 === void 0 ? void 0 : _callbacks$current$on2.call(_callbacks$current2, newCenter);\n    });\n    return () => {\n      gme.clearInstanceListeners(circle);\n    };\n  }, [circle]);\n  return circle;\n}\n_s(useCircle, \"tGznLOylpFO+OSTJZeJaf5ygg5U=\");\nexport const Circle = /*#__PURE__*/_s2( /*#__PURE__*/forwardRef(_c = _s2((props, ref) => {\n  _s2();\n  const circle = useCircle(props);\n  useImperativeHandle(ref, () => circle);\n  return null;\n}, \"KY0A4cUi6z7nAvJCsbNqK5hpzv4=\", false, function () {\n  return [useCircle];\n})), \"KY0A4cUi6z7nAvJCsbNqK5hpzv4=\", false, function () {\n  return [useCircle];\n});\n_c2 = Circle;\nvar _c, _c2;\n$RefreshReg$(_c, \"Circle$forwardRef\");\n$RefreshReg$(_c2, \"Circle\");","map":{"version":3,"names":["forwardRef","useContext","useEffect","useImperativeHandle","useRef","GoogleMapsContext","latLngEquals","useCircle","props","_s","_useContext","onClick","onDrag","onDragStart","onDragEnd","onMouseOver","onMouseOut","onRadiusChanged","onCenterChanged","radius","center","circleOptions","callbacks","Object","assign","current","circle","window","google","maps","Circle","setOptions","getCenter","setCenter","undefined","getRadius","setRadius","map","console","error","setMap","gme","event","forEach","eventName","eventCallback","addListener","e","callback","_callbacks$current$on","_callbacks$current","newRadius","call","_callbacks$current$on2","_callbacks$current2","newCenter","clearInstanceListeners","_s2","_c","ref","_c2","$RefreshReg$"],"sources":["C:/Users/Belvedere Song/Documents/NTU/SoftwareEngineering/project/SC2006-Group1/src/client/src/components/circle.js"],"sourcesContent":["import {\r\n    forwardRef,\r\n    useContext,\r\n    useEffect,\r\n    useImperativeHandle,\r\n    useRef\r\n  } from 'react';\r\n  \r\n  import { GoogleMapsContext, latLngEquals } from '@vis.gl/react-google-maps';\r\n  \r\n  function useCircle(props) {\r\n    const {\r\n      onClick,\r\n      onDrag,\r\n      onDragStart,\r\n      onDragEnd,\r\n      onMouseOver,\r\n      onMouseOut,\r\n      onRadiusChanged,\r\n      onCenterChanged,\r\n      radius,\r\n      center,\r\n      ...circleOptions\r\n    } = props;\r\n  \r\n    const callbacks = useRef({});\r\n    Object.assign(callbacks.current, {\r\n      onClick,\r\n      onDrag,\r\n      onDragStart,\r\n      onDragEnd,\r\n      onMouseOver,\r\n      onMouseOut,\r\n      onRadiusChanged,\r\n      onCenterChanged\r\n    });\r\n  \r\n    const circle = useRef(new window.google.maps.Circle()).current;\r\n    circle.setOptions(circleOptions);\r\n\r\n    useEffect(() => {\r\n      if (!center) return;\r\n      if (!latLngEquals(center, circle.getCenter())) circle.setCenter(center);\r\n    }, [center]);\r\n  \r\n    useEffect(() => {\r\n      if (radius === undefined || radius === null) return;\r\n      if (radius !== circle.getRadius()) circle.setRadius(radius);\r\n    }, [radius]);\r\n  \r\n    const map = useContext(GoogleMapsContext)?.map;\r\n  \r\n    useEffect(() => {\r\n      if (!map) {\r\n        if (map === undefined)\r\n          console.error('<Circle> has to be inside a Map component.');\r\n  \r\n        return;\r\n      }\r\n  \r\n      circle.setMap(map);\r\n  \r\n      return () => {\r\n        circle.setMap(null);\r\n      };\r\n    }, [map]);\r\n  \r\n    useEffect(() => {\r\n      if (!circle) return;\r\n  \r\n      const gme = window.google.maps.event;\r\n      [\r\n        ['click', 'onClick'],\r\n        ['drag', 'onDrag'],\r\n        ['dragstart', 'onDragStart'],\r\n        ['dragend', 'onDragEnd'],\r\n        ['mouseover', 'onMouseOver'],\r\n        ['mouseout', 'onMouseOut']\r\n      ].forEach(([eventName, eventCallback]) => {\r\n        gme.addListener(circle, eventName, (e) => {\r\n          const callback = callbacks.current[eventCallback];\r\n          if (callback) callback(e);\r\n        });\r\n      });\r\n      gme.addListener(circle, 'radius_changed', () => {\r\n        const newRadius = circle.getRadius();\r\n        callbacks.current.onRadiusChanged?.(newRadius);\r\n      });\r\n      gme.addListener(circle, 'center_changed', () => {\r\n        const newCenter = circle.getCenter();\r\n        callbacks.current.onCenterChanged?.(newCenter);\r\n      });\r\n  \r\n      return () => {\r\n        gme.clearInstanceListeners(circle);\r\n      };\r\n    }, [circle]);\r\n  \r\n    return circle;\r\n  }\r\n  \r\n  export const Circle = forwardRef((props, ref) => {\r\n    const circle = useCircle(props);\r\n  \r\n    useImperativeHandle(ref, () => circle);\r\n  \r\n    return null;\r\n  });\r\n  "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}